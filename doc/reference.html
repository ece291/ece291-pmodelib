<!-- $Id: reference.html,v 1.8 2001/04/06 08:35:44 pete Exp $ -->
<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <title>291 Protected Mode Library Reference</title>
</head>
<body bgcolor="#FFFFFF">
<center><h2><i>291 Protected Mode Library Reference</i></h2></center>
<p>All functions declared in C-style use the C calling convention (parameters on stack; return value
in EAX/AX/AL; EAX, EBX, ECX, and EDX may be clobbered) and also have the function name
prepended with a underscore ( _ ).  Parameters and return values specified in C format obey the following
size conventions: short, 16 bit integer (default signed); int, 32-bit integer (default signed);
pointer (of any type), 32-bit.  Bools are 32-bit values: 1=true, 0=false.
Pointer parameters take the address of the variable, not the contents.<br>
<br>The source code to all of these functions is in the src subdirectory of the <a href="http://www.ece.uiuc.edu/ece291/class-resources/pmodelib.zip">pmodelib.zip</a> file (or the V:\ece291\pmodelib directory).

<h3>Function Index</h3>
<ul>
 <li><a href="ref/init.html">Initialization and Shutdown</a></li>
 <ul>
  <li><a href='ref/init.html#LibInit'>_LibInit</a></li>
  <li><a href='ref/init.html#LibExit'>_LibExit</a></li>
 </ul>
 <li><a href="ref/simulate.html">Simulate Real-Mode Interrupt</a></li>
 <ul>
  <li><a href='ref/simulate.html#DPMI_Int'>DPMI_Int</a></li>
 </ul>
 <li><a href="ref/memory.html">Memory Handling</a></li>
 <ul>
  <li><a href='ref/memory.html#AllocMem'>_AllocMem</a></li>
  <li><a href='ref/memory.html#AllocSelector'>_AllocSelector</a></li>
  <li><a href='ref/memory.html#FreeSelector'>_FreeSelector</a></li>
  <li><a href='ref/memory.html#LockArea'>_LockArea</a></li>
  <li><a href='ref/memory.html#GetPhysicalMapping'>_GetPhysicalMapping</a></li>
  <li><a href='ref/memory.html#FreePhysicalMapping'>_FreePhysicalMapping</a></li>
 </ul>
 <li><a href="ref/file.html">General File Handling</a></li>
 <ul>
  <li><a href='ref/file.html#OpenFile'>_OpenFile</a></li>
  <li><a href='ref/file.html#CloseFile'>_CloseFile</a></li>
  <li><a href='ref/file.html#ReadFile'>_ReadFile</a></li>
  <li><a href='ref/file.html#ReadFile_Sel'>_ReadFile_Sel</a></li>
  <li><a href='ref/file.html#WriteFile'>_WriteFile</a></li>
  <li><a href='ref/file.html#WriteFile_Sel'>_WriteFile_Sel</a></li>
  <li><a href='ref/file.html#SeekFile'>_SeekFile</a></li>
 </ul>
 <li><a href="ref/graphfile.html">Graphics File Handling</a></li>
 <ul>
  <li><a href='ref/graphfile.html#LoadBMP'>_LoadBMP</a></li>
  <li><a href='ref/graphfile.html#LoadBMP_Sel'>_LoadBMP_Sel</a></li>
  <li><a href='ref/graphfile.html#SaveBMP'>_SaveBMP</a></li>
  <li><a href='ref/graphfile.html#SaveBMP_Sel'>_SaveBMP_Sel</a></li>
 </ul>
 <li><a href="ref/int.html">Interrupt, IRQ, and Callback Wrappers</a></li>
 <ul>
  <li><a href='ref/int.html#Install_Int'>_Install_Int</a></li>
  <li><a href='ref/int.html#Remove_Int'>_Remove_Int</a></li>
  <li><a href='ref/int.html#Init_IRQ'>_Init_IRQ</a></li>
  <li><a href='ref/int.html#Exit_IRQ'>_Exit_IRQ</a></li>
  <li><a href='ref/int.html#Restore_IRQ'>_Restore_IRQ</a></li>
  <li><a href='ref/int.html#Enable_IRQ'>_Enable_IRQ</a></li>
  <li><a href='ref/int.html#Disable_IRQ'>_Disable_IRQ</a></li>
  <li><a href='ref/int.html#Get_RMCB'>_Get_RMCB</a></li>
  <li><a href='ref/int.html#Free_RMCB'>_Free_RMCB</a></li>
 </ul>
 <li><a href="ref/textmode.html">Text Mode Functions</a></li>
 <ul>
  <li><a href='ref/textmode.html#SetModeC80'>_SetModeC80</a></li>
  <li><a href='ref/textmode.html#TextSetPage'>_TextSetPage</a></li>
  <li><a href='ref/textmode.html#TextClearScreen'>_TextClearScreen</a></li>
  <li><a href='ref/textmode.html#TextWriteChar'>_TextWriteChar</a></li>
  <li><a href='ref/textmode.html#TextWriteString'>_TextWriteString</a></li>
 </ul>
 <li><a href="ref/vbeaf.html">High-Res VBE/AF Graphics Functions</a></li>
 <ul>
  <li><a href='ref/vbeaf.html#LoadGraphicsDriver'>_LoadGraphicsDriver</a></li>
  <li><a href='ref/vbeaf.html#InitGraphics'>_InitGraphics</a></li>
  <li><a href='ref/vbeaf.html#ExitGraphics'>_ExitGraphics</a></li>
  <li><a href='ref/vbeaf.html#FindGraphicsMode'>_FindGraphicsMode</a></li>
  <li><a href='ref/vbeaf.html#SetGraphicsMode'>_SetGraphicsMode</a></li>
  <li><a href='ref/vbeaf.html#UnsetGraphicsMode'>_UnsetGraphicsMode</a></li>
  <li><a href='ref/vbeaf.html#CopyToScreen'>_CopyToScreen</a></li>
 </ul>
 <li><a href="ref/netbios.html">NetBIOS Networking</a></li>
 <ul>
  <li><a href='ref/netbios.html#NetInit'>_NetInit</a></li>
  <li><a href='ref/netbios.html#NetRelease'>_NetRelease</a></li>
  <li><a href='ref/netbios.html#SendPacket'>_SendPacket</a></li>
 </ul>
 <li><a href="ref/sockets.html">IP Networking (TCP/IP, UDP/IP)</a></li>
 <ul>
  <li><a href='ref/sockets.html#InitSocket'>_InitSocket</a></li>
  <li><a href='ref/sockets.html#ExitSocket'>_ExitSocket</a></li>
  <li><a href='ref/sockets.html#Socket_InstallCallback'>_Socket_InstallCallback</a></li>
  <li><a href='ref/sockets.html#Socket_accept'>_Socket_accept</a></li>
  <li><a href='ref/sockets.html#Socket_bind'>_Socket_bind</a></li>
  <li><a href='ref/sockets.html#Socket_close'>_Socket_close</a></li>
  <li><a href='ref/sockets.html#Socket_connect'>_Socket_connect</a></li>
  <li><a href='ref/sockets.html#Socket_create'>_Socket_create</a></li>
  <li><a href='ref/sockets.html#Socket_getpeername'>_Socket_getpeername</a></li>
  <li><a href='ref/sockets.html#Socket_getsockname'>_Socket_getsockname</a></li>
  <li><a href='ref/sockets.html#Socket_ntohl'>_Socket_ntohl</a></li>
  <li><a href='ref/sockets.html#Socket_htonl'>_Socket_htonl</a></li>
  <li><a href='ref/sockets.html#Socket_ntohs'>_Socket_ntohs</a></li>
  <li><a href='ref/sockets.html#Socket_htons'>_Socket_htons</a></li>
  <li><a href='ref/sockets.html#Socket_inet_addr'>_Socket_inet_addr</a></li>
  <li><a href='ref/sockets.html#Socket_inet_ntoa'>_Socket_inet_ntoa</a></li>
  <li><a href='ref/sockets.html#Socket_listen'>_Socket_listen</a></li>
  <li><a href='ref/sockets.html#Socket_recv'>_Socket_recv</a></li>
  <li><a href='ref/sockets.html#Socket_recvfrom'>_Socket_recvfrom</a></li>
  <li><a href='ref/sockets.html#Socket_send'>_Socket_send</a></li>
  <li><a href='ref/sockets.html#Socket_sendto'>_Socket_sendto</a></li>
  <li><a href='ref/sockets.html#Socket_shutdown'>_Socket_shutdown</a></li>
  <li><a href='ref/sockets.html#Socket_gethostbyaddr'>_Socket_gethostbyaddr</a></li>
  <li><a href='ref/sockets.html#Socket_gethostbyname'>_Socket_gethostbyname</a></li>
  <li><a href='ref/sockets.html#Socket_gethostname'>_Socket_gethostname</a></li>
  <li><a href='ref/sockets.html#Socket_GetLastError'>_Socket_GetLastError</a></li>
 </ul>
 <li><a href="ref/util.html">Miscelleanous Utility Functions</a></li>
 <ul>
  <li><a href='ref/util.html#BinAsc'>BinAsc</a></li>
  <li><a href='ref/util.html#AscBin'>AscBin</a></li>
 </ul>
</ul>

<h3>Global Variables</h3>
<TABLE border=0><TR>
<TH align=left>Name</TH>
<TH width=25>&nbsp;</TH>
<TH align=left>Description</TH>
<TH width=25>&nbsp;</TH>
</TR><TR>
<TD>DPMI_*</TD>
<TD width=25>&nbsp;</TD>
<TD>DPMI Registers Structure</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_Transfer_Buf</TD>
<TD width=25>&nbsp;</TD>
<TD>Real Mode Transfer Buffer PM Selector</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_Transfer_Buf_Seg</TD>
<TD width=25>&nbsp;</TD>
<TD>Real Mode Transfer Buffer RM Segment</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_Transfer_Buf_Size</TD>
<TD width=25>&nbsp;</TD>
<TD>Size of Real Mode Transfer Buffer</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_ScratchBlock</TD>
<TD width=25>&nbsp;</TD>
<TD>PM Selector of 1 MB scratch buffer (used by lib routines but free for temporary program use)</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_NetTransferSel</TD>
<TD width=25>&nbsp;</TD>
<TD>PM Selector of NetBIOS transfer area (contains RXBuffer and TXBuffer)</TD>
<TD width=25>&nbsp;</TD>
</TR><TR>
<TD>_textsel</TD>
<TD width=25>&nbsp;</TD>
<TD>PM Selector of text-mode video memory</TD>
<TD width=25>&nbsp;</TD>
</TR></TABLE>

</body>
</html>
